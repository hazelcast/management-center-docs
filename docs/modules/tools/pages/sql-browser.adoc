= Executing SQL Queries
:page-aliases: ROOT:sql-browser.adoc
:description: You can use Management Center to execute SQL queries on a Hazelcast cluster.

{description}

== Before you Begin

If a map contains domain objects, the classes for those objects must be on the classpath of Management Center before you can query them. See the xref:deploy-manage:configuring.adoc#starting-with-an-extra-classpath[Providing an Extra Classpath].

== Using the SQL Browser

image:ROOT:SQLBrowserMenu.png[SQL Browser Toolbar Icon]

Click **SQL Browser** in the toolbar.

image:ROOT:SQLBrowserWindow.png[SQL Browser Window]

To query an existing map in the cluster, you have to connect it by running `CREATE MAPPING` SQL statement.
This statement maps the data structure to a table that can be queried with Hazelcast SQL.
It can be generated by cluster or inserted manually into the SQL editor.

Click **Connect Maps** button
and select the map's name from the dropdown to generate `CREATE MAPPING` statement based on the map content:

image:ROOT:SQLBrowserConnectMaps.png[SQL Browser Connect Maps]

A generated `CREATE MAPPING` statement is inserted into the editor and can be adjusted to your needs.

NOTE: In some cases `CREATE MAPPING` statement can not be generated. The Possible reasons are: the map is empty, the map is stored in `NATIVE` format without indexes.

Click **Confirm & Run**.

After the successful `CREATE MAPPING` SQL statement execution,
you should see your mapping in the **Queryable objects** tree view:

image:ROOT:SQLBrowserQueryableObjects.png[SQL Browser Queryable Objects]

Under the mapping name, you can find columns and indexes with their types.

== Executing Queries

To execute a query, click **Execute Query**.

After a successful query execution, you will see the results under **Query Results**

.Example query results
image:ROOT:SQLBrowserQueryResultTab.png[A list of query results]

There are two results representation modes:

* **Show first 1000 records**

This mode limits **Query Results** to the first 1000 records returned by the query.

* **Stream last 1000 records**

NOTE: Should be used for displaying the Streaming SQL query results.

In this mode **Query Results** show only the last 1000 records returned by query,
and the last record is always on the top of the list.

== Exporting Query Results

You can use **Export** to export the query result as a **CSV** file in
a format https://tools.ietf.org/html/rfc4180[RFC 4180] or as a **JSON** file.

== Viewing Executed SQL Queries

In the **History** tab, you can see the history of query execution.
The history holds the last one hundred executed queries.
Each row contains **Execution Time**, **Execution Status** and **Query** values.
You can re-execute any query from the history by pushing a button in the **Execute** column.

image:ROOT:SQLBrowserHistoryTab.png[A history of executed queries]

You can also use **Clear Query Result** to remove the query results.

== Creating a Map

. Open the SQL browser and execute the following SQL statement to create a map called `my_first_map`.
+
[source,sql]
----
CREATE MAPPING my_first_map TYPE IMap OPTIONS ('keyFormat'='varchar','valueFormat'='varchar');
----
. Delete the above statement and now execute the following.
+
[source,sql]
----
SINK INTO my_first_map VALUES
('1', 'John'),
('2', 'Mary'),
('3', 'Jane');
----
. Close the SQL browser and go to **Storage** > **Maps** to verify that `my_first_map` is created.
+
image:sql-creates-map.png[Map is Created using SQL Browser]

NOTE: Management Center allows you to access contents of Hazelcast data structures (for instance map entries) via SQL Browser or Map Browser. It may be useful to restrict data access for Management Center if sensitive financial or personal information is stored in the cluster. Management Center cannot access the data if at least one member has the data access disabled. You can disable data access for Management Center in the member configuration file. See the xref:hazelcast:maintain-cluster:monitoring.adoc#managing-data-access[Managing Data Access] section.

== Next Steps

If you're interested in learning more about SQL in Hazelcast, see the xref:hazelcast:sql:sql-statements.adoc[SQL reference] in the Platform documentation.
